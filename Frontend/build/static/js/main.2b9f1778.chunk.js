(this["webpackJsonpwebsite-v4"]=this["webpackJsonpwebsite-v4"]||[]).push([[0],{101:function(e,t,r){},102:function(e,t,r){},105:function(e,t,r){},106:function(e,t,r){},107:function(e,t,r){},133:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(27),s=r.n(a),l=(r(87),r(13)),i=r(12),o=r(3),d=r(78),j=Object(d.createAuthProvider)({getAccessToken:function(e){return e.accessToken},storage:localStorage,onUpdateToken:function(e){return fetch("/auth/refresh",{method:"POST",body:e.refresh_token}).then((function(e){return e.json()}))}}),b=j.useAuth,h=(j.authFetch,j.login),m=j.logout,u=r(0);var O=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsxs)("li",{className:"nav-item",children:["     ",Object(u.jsx)("a",{className:"nav-link",href:"/login","aria-current":"page",children:"Login"}),"     "]}),Object(u.jsxs)("li",{className:"nav-item",children:["     ",Object(u.jsx)("a",{className:"nav-link",href:"/signup",children:"Sign Up"}),"    "]})]})})},x=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(u.jsxs)("li",{className:"nav-item",children:["     ",Object(u.jsx)("a",{className:"nav-link",href:"/login","aria-current":"page",onClick:function(){m(),localStorage.removeItem("currentUserForename"),localStorage.removeItem("currentUserSurname"),localStorage.removeItem("currentUserUsername"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUserNumberOfYears"),localStorage.removeItem("yearIds"),localStorage.removeItem("Predicted"),localStorage.removeItem("moduleName")},children:"Log Out"}),"     "]})})})},g=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("li",{className:"nav-item",children:["     ",Object(u.jsx)("a",{className:"nav-link",href:"/account",children:"Account"}),"    "]}),Object(u.jsxs)("li",{className:"nav-item",children:["     ",Object(u.jsx)("a",{className:"nav-link",href:"/grades",children:"Grades"}),"    "]})]})};var p=function(){var e=b(),t=Object(o.a)(e,1)[0];return Object(u.jsx)("div",{children:Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("a",{className:"navbar-brand",children:"GradChecker"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsxs)("li",{className:"nav-item",children:["     ",Object(u.jsx)("a",{className:"nav-link","aria-current":"page",href:"/home",children:"Home"}),"     "]}),t?Object(u.jsx)(g,{}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsx)("div",{className:"d-flex",children:t?Object(u.jsx)(x,{}):Object(u.jsx)(O,{})})]})]})})})};var v,f=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"d-flex justify-content-center",style:{paddingTop:"10px",height:"100vh"},children:Object(u.jsx)("h1",{children:Object(u.jsx)("u",{children:"GradChecker"})})})})},y=r(2),S=r(138),N=r(141),w=r(139),L=r(15);r(42);function C(){var e=Object(L.a)(),t=e.register,r=e.handleSubmit,c=e.reset,a=e.formState.errors,s=Object(n.useState)(!1),l=Object(o.a)(s,2),d=l[0],j=l[1],b=Object(i.f)();return Object(u.jsxs)("div",{className:"fullPage",children:[d?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return j(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:"Incorrect credentials"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"card border-dark",style:{width:"18rem",boxShadow:"10px 10px 0px 1px  rgba(0,0,0,0.2)"},children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{method:"POST",action:"/login",children:[Object(u.jsx)("h5",{className:"card-title",children:"Login"}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Username"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},t("username",{required:!0,minLength:1}))),a.username&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid username"})}),Object(u.jsx)(N.a.Label,{children:"Password"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"password"},t("password",{required:!0,minLength:1}))),a.password&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid password"})})]}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:r((function(e){console.log(e),v=e.username;var t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)};fetch("/auth/login",t).then((function(e){return e.json()})).then((function(e){"Invalid username or password"==e.message?j(!0):function(e){console.log(e.access_token),h(e.access_token),fetch("/user/getUser/"+v).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("currentUserId",JSON.stringify(e.id)),localStorage.setItem("currentUserForename",e.forename),localStorage.setItem("currentUserSurname",e.surname),localStorage.setItem("currentUserUsername",e.username),localStorage.setItem("currentUserNumberOfYears",e.numberOfYears),fetch("/grades/getYearIds/"+e.id).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("yearIds",JSON.stringify(e)),b.push("/grades")})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}(e)})),c()})),style:{marginTop:"15px",float:"right"},children:"Log In"})]})})})]})}r(43);var E=r(82),T=r(41),I=(r(101),r(140)),A=(r(102),function(e){var t,r=e.year_id,c=e.module_id,a=e.name,s=e.creditsWorth,i=e.assignments,d=Object(n.useState)(!1),j=Object(o.a)(d,2),b=j[0],h=j[1],m=function(){return h(!1)},O=Object(n.useState)(!1),x=Object(o.a)(O,2),g=x[0],p=x[1],v=function(){return p(!0)},f=Object(n.useState)([]),S=Object(o.a)(f,2),C=S[0],E=S[1];fetch("/grades/calcModule/"+c).then((function(e){return e.json()})).then((function(e){console.log(e),E(e)})).catch((function(e){return console.log(e)}));var T=Object(L.a)({}),A=T.register,U=T.handleSubmit,k=T.formState.errors,_=Object(n.useState)(!1),P=Object(o.a)(_,2),Y=P[0],H=P[1],F=function(){return H(!1)},q=Object(n.useState)(""),W=Object(o.a)(q,2),B=W[0],J=W[1],K=Object(n.useState)(!1),G=Object(o.a)(K,2),R=G[0],D=G[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)(I.a,{show:b,onHide:m,children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsx)(I.a.Title,{children:"Are you sure you want to delete this module?"})}),Object(u.jsx)(I.a.Body,{children:"There is no going back!"}),Object(u.jsx)(I.a.Footer,{children:Object(u.jsx)(w.a,{variant:"danger",onClick:function(){m(),function(){var e=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),t={name:a},n={method:"DELETE",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(e))},body:JSON.stringify(t)};console.log(r),fetch("/grades/modules/"+r,n).then((function(e){return e.json()})).then((function(e){console.log(e),"Internal Server Error"==e.message?v():window.location.reload()}))}()},children:"Delete"})})]}),Object(u.jsxs)(I.a,{show:g,onHide:function(){return p(!1)},children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsx)(I.a.Title,{children:"ERROR"})}),Object(u.jsx)(I.a.Body,{children:"Timed Out! Please logout and login again"})]}),Object(u.jsxs)(I.a,{show:R,onHide:function(){return D(!1)},children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsx)(I.a.Title,{children:"ERROR"})}),Object(u.jsx)(I.a.Body,{children:B})]}),Object(u.jsxs)(I.a,{show:Y,onHide:F,children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsxs)(I.a.Title,{children:["Update Module ",a]})}),Object(u.jsx)(I.a.Body,{children:Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Name"}),Object(u.jsx)(N.a.Control,Object(y.a)({placeholder:a,type:"text"},A("newName",{required:!0,minLength:3}))),k.newName&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid name"})}),"minLength"===(null===(t=k.newName)||void 0===t?void 0:t.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Module name is too short"})}),Object(u.jsx)(N.a.Label,{children:"Credits Worth"}),Object(u.jsx)(N.a.Control,Object(y.a)({placeholder:s,type:"number"},A("newCreditsWorth",{required:!0,minLength:1}))),k.newCreditsWorth&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid number"})}),Object(u.jsx)(N.a.Label,{children:"Number of Assignments"}),Object(u.jsx)(N.a.Control,Object(y.a)({placeholder:i,type:"number"},A("newAssignments",{required:!0,minLength:1}))),k.newAssignments&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid number"})})]})}),Object(u.jsx)(I.a.Footer,{children:Object(u.jsx)(w.a,{className:"btn btn-primary",variant:"Primary",onClick:U((function(e){var t=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),n={currentName:a,name:e.newName,creditsWorth:e.newCreditsWorth,assignments:e.newAssignments},c={method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(t))},body:JSON.stringify(n)},s=function(){F(),"Internal Server Error"==B?v():D(!0)};fetch("/grades/update/"+r,c).then((function(e){return e.json()})).then((function(e){console.log(e),J(e.message),"this module has been updated"!=e.message?s():(F(),window.location.reload())})).catch((function(e){return console.log(e)}))})),children:"Update"})})]}),Object(u.jsx)("div",{className:"card spacing",children:Object(u.jsxs)("div",{className:"card-body center",children:[Object(u.jsxs)(w.a,{className:"btn delete",onClick:function(){return h(!0)},variant:"outline-danger",value:"x",children:[" ",Object(u.jsx)("p",{className:"cross",children:"X"})]}),Object(u.jsx)("h5",{className:"card-header",children:a}),Object(u.jsx)("p",{className:"card-text"}),Object(u.jsxs)("p",{children:["Assignments: ",i]}),Object(u.jsxs)("p",{children:["Credits Worth: ",s]}),Object(u.jsx)(w.a,{className:"btn btn-primary",style:{margin:"5px"},to:"",onClick:function(){return H(!0)},children:"update"}),Object(u.jsx)(l.b,{className:"btn btn-primary",style:{margin:"5px"},to:{pathname:"/assignments",state:c},children:"View"}),Object(u.jsx)("p",{}),Object(u.jsxs)("h5",{className:"card-footer",children:["Overall Grade: ",C]})]})})]})});function U(){var e=b(),t=Object(o.a)(e,1)[0],r=function(){var e,t,r,c,a=Object(n.useState)([]),s=Object(o.a)(a,2),i=s[0],d=s[1],j=Object(n.useState)([]),b=Object(o.a)(j,2),h=b[0],m=b[1],O=Object(n.useState)([]),x=Object(o.a)(O,2),g=x[0],p=x[1],v=Object(n.useState)([]),f=Object(o.a)(v,2),S=f[0],C=f[1],I=Object(n.useState)([]),U=Object(o.a)(I,2),k=U[0],_=U[1],P=Object(n.useState)([]),Y=Object(o.a)(P,2),H=Y[0],F=Y[1],q=Object(n.useState)([]),W=Object(o.a)(q,2),B=W[0],J=W[1],K=Object(n.useState)([]),G=Object(o.a)(K,2),R=G[0],D=G[1],M=(localStorage.getItem("currentUserId"),localStorage.getItem("currentUserForename")),z=localStorage.getItem("currentUserNumberOfYears"),X=JSON.parse(localStorage.getItem("yearIds"));Object(n.useEffect)((function(){var e,t,r,n,c=null===(e=X[0])||void 0===e?void 0:e.id;fetch("/grades/modules/"+c).then((function(e){return e.json()})).then((function(e){console.log(e),d(e)})).catch((function(e){return console.log(e)}));var a=null===(t=X[1])||void 0===t?void 0:t.id;fetch("/grades/modules/"+a).then((function(e){return e.json()})).then((function(e){console.log(e),m(e)})).catch((function(e){return console.log(e)}));var s=null===(r=X[2])||void 0===r?void 0:r.id;fetch("/grades/modules/"+s).then((function(e){return e.json()})).then((function(e){console.log(e),p(e)})).catch((function(e){return console.log(e)}));var l=null===(n=X[3])||void 0===n?void 0:n.id;fetch("/grades/modules/"+l).then((function(e){return e.json()})).then((function(e){console.log(e),C(e)})).catch((function(e){return console.log(e)})),fetch("/grades/calcYear/"+c).then((function(e){return e.json()})).then((function(e){console.log(e),_(e)})).catch((function(e){return console.log(e)})),fetch("/grades/calcYear/"+a).then((function(e){return e.json()})).then((function(e){console.log(e),F(e)})).catch((function(e){return console.log(e)})),fetch("/grades/calcYear/"+s).then((function(e){return e.json()})).then((function(e){console.log(e),J(e)})).catch((function(e){return console.log(e)})),fetch("/grades/calcYear/"+l).then((function(e){return e.json()})).then((function(e){console.log(e),D(e)})).catch((function(e){return console.log(e)}))}),[]);var V=Object(L.a)(),Q=V.register,Z=V.handleSubmit,$=V.formState.errors,ee=Object(n.useState)(!1),te=Object(o.a)(ee,2),re=te[0],ne=te[1],ce=0;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"fullPage",children:[Object(u.jsxs)("h1",{children:["Welcome ",M,"!"]}),Object(u.jsx)("div",{className:"box",children:Object(u.jsxs)(E.a,{defaultActiveKey:"one-tab",children:[Object(u.jsxs)(T.a,{eventKey:"one-tab",title:"Year 1",id:"year_1",children:[Object(u.jsxs)("div",{className:"card-deck wrapCards",children:[i.map((function(e){return Object(u.jsx)(A,{year_id:X[0].id,module_id:e.id,name:e.name,assignments:e.assignments,creditsWorth:e.creditsWorth},e.id)})),Object(u.jsx)("div",{className:"card border-light spacing",children:Object(u.jsxs)("div",{className:"card-body centerAdd",children:[Object(u.jsx)("p",{className:"card-text"}),Object(u.jsx)(l.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/addModules",state:null===(e=X[0])||void 0===e?void 0:e.id},children:Object(u.jsx)("p",{className:"circle centerAdd",children:"+"})}),Object(u.jsx)("p",{})]})})]}),Object(u.jsx)("div",{className:"overall",children:Object(u.jsxs)("p",{children:["Overall Grade: ",k,"%"]})})]}),Object(u.jsxs)(T.a,{eventKey:"two-tab",title:"Year 2",id:"year_2",children:[Object(u.jsxs)("div",{className:"card-deck wrapCards",children:[h.map((function(e){return Object(u.jsx)(A,{year_id:X[1].id,module_id:e.id,name:e.name,assignments:e.assignments,creditsWorth:e.creditsWorth},e.id)})),Object(u.jsx)("div",{className:"card border-light spacing",children:Object(u.jsxs)("div",{className:"card-body centerAdd",children:[Object(u.jsx)("p",{className:"card-text"}),Object(u.jsx)(l.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/addModules",state:null===(t=X[1])||void 0===t?void 0:t.id},children:Object(u.jsx)("p",{className:"circle centerAdd",children:"+"})}),Object(u.jsx)("p",{})]})})]}),Object(u.jsx)("div",{className:"overall",children:Object(u.jsxs)("p",{children:["Overall Grade: ",H,"%"]})})]}),Object(u.jsxs)(T.a,{eventKey:"three-tab",title:"Year 3",id:"year_3",children:[Object(u.jsxs)("div",{className:"card-deck wrapCards",children:[g.map((function(e){return Object(u.jsx)(A,{year_id:X[2].id,module_id:e.id,name:e.name,assignments:e.assignments,creditsWorth:e.creditsWorth},e.id)})),Object(u.jsx)("div",{className:"card border-light spacing",children:Object(u.jsxs)("div",{className:"card-body centerAdd",children:[Object(u.jsx)("p",{className:"card-text"}),Object(u.jsx)(l.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/addModules",state:null===(r=X[2])||void 0===r?void 0:r.id},children:Object(u.jsx)("p",{className:"circle centerAdd",children:"+"})}),Object(u.jsx)("p",{})]})})]}),Object(u.jsx)("div",{className:"overall",children:Object(u.jsxs)("p",{children:["Overall Grade: ",B,"%"]})})]}),4==z?Object(u.jsxs)(T.a,{eventKey:"four-tab",title:"Year 4",id:"year_4",children:[Object(u.jsxs)("div",{className:"card-deck wrapCards",children:[S.map((function(e){return Object(u.jsx)(A,{year_id:X[3].id,module_id:e.id,name:e.name,assignments:e.assignments,creditsWorth:e.creditsWorth},e.id)})),Object(u.jsx)("div",{className:"card border-light spacing",children:Object(u.jsxs)("div",{className:"card-body centerAdd",children:[Object(u.jsx)("p",{className:"card-text"}),Object(u.jsx)(l.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/addModules",state:null===(c=X[3])||void 0===c?void 0:c.id},children:Object(u.jsx)("p",{className:"circle centerAdd",children:"+"})}),Object(u.jsx)("p",{})]})})]}),Object(u.jsx)("div",{className:"overall",children:Object(u.jsxs)("p",{children:["Overall Grade: ",R,"%"]})})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(T.a,{eventKey:"overall-tab",title:"Overall",id:"overall",children:[Object(u.jsx)("br",{}),Object(u.jsx)("h1",{children:Object(u.jsx)("u",{children:"Calculate overall"})}),Object(u.jsx)("br",{}),Object(u.jsxs)("ul",{style:{listStyleType:"circle"},children:[Object(u.jsxs)("li",{children:["Year 1: ",k,"%"]}),Object(u.jsxs)("li",{children:["Year 2: ",H,"%"]}),Object(u.jsxs)("li",{children:["Year 3: ",B,"%"]}),4==z?Object(u.jsxs)("li",{children:["Year 4: ",R,"%"]}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)("h5",{children:Object(u.jsx)("b",{children:"Please enter the ratio that each year is weighted at:"})}),Object(u.jsx)("br",{}),Object(u.jsx)(N.a.Label,{children:"Year 1"}),Object(u.jsx)(N.a.Control,Object(y.a)(Object(y.a)({type:"number"},Q("ratio1",{required:!0,minLength:1,maxLength:1})),{},{style:{width:"30%"}})),$.ratio1&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid ratio number"})}),Object(u.jsx)(N.a.Label,{children:"Year 2"}),Object(u.jsx)(N.a.Control,Object(y.a)(Object(y.a)({type:"number"},Q("ratio2",{required:!0,minLength:1,maxLength:1})),{},{style:{width:"30%"}})),$.ratio2&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid ratio number"})}),Object(u.jsx)(N.a.Label,{children:"Year 3"}),Object(u.jsx)(N.a.Control,Object(y.a)(Object(y.a)({type:"number"},Q("ratio3",{required:!0,minLength:1,maxLength:1})),{},{style:{width:"30%"}})),$.ratio3&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid ratio number"})}),4==z?Object(u.jsxs)("div",{children:[Object(u.jsx)(N.a.Label,{children:"Year 4"}),Object(u.jsx)(N.a.Control,Object(y.a)(Object(y.a)({type:"number"},Q("ratio4",{required:!0,minLength:1,maxLength:1})),{},{style:{width:"30%"}})),$.ratio4&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid ratio number"})})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:Z((function(e){e.ratio1=Number(e.ratio1),e.ratio2=Number(e.ratio2),e.ratio3=Number(e.ratio3),e.ratio4=Number(e.ratio4);var t=e.ratio1+e.ratio2+e.ratio3;4==z&&(t+=e.ratio4),ce+=e.ratio1/t*k,ce+=e.ratio2/t*H,ce+=e.ratio3/t*B,4==z&&(ce+=e.ratio4/t*R),ce=Math.round(100*(ce+Number.EPSILON))/100,localStorage.setItem("Predicted",ce),ne(!0)})),style:{marginTop:"15px",float:"right"},children:"Calculate"})]}),re?Object(u.jsx)("div",{className:"final",children:Object(u.jsxs)("h3",{children:["Predicted Grade: ",localStorage.getItem("Predicted"),"%"]})}):Object(u.jsx)(u.Fragment,{})]})]})})]})})};return Object(u.jsx)("div",{children:t?Object(u.jsx)(r,{}):Object(u.jsx)(u.Fragment,{})})}function k(){var e,t,r,c,a,s,l=Object(L.a)(),i=l.register,d=l.reset,j=l.handleSubmit,b=l.formState.errors,h=Object(n.useState)(!1),m=Object(o.a)(h,2),O=m[0],x=m[1],g=Object(n.useState)(""),p=Object(o.a)(g,2),v=p[0],f=p[1];return Object(u.jsxs)("div",{className:"fullPage",children:[O&&"User created successfuly"===v?Object(u.jsxs)(S.a,{variant:"success",onClose:function(){return x(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Success!"}),Object(u.jsx)("p",{children:v})]}):O&&"email already used"===v|"username already exists"===v?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return x(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:v})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"card border-dark",style:{width:"18rem",boxShadow:"10px 10px 0px 1px  rgba(0,0,0,0.2)"},children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{method:"POST",action:"/signup",children:[Object(u.jsx)("h5",{className:"card-title",children:"Sign Up"}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Forename"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},i("forename",{required:!0,minLength:3}))),b.forename&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid forename"})}),"minLength"===(null===(e=b.forename)||void 0===e?void 0:e.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Forename is too short"})}),Object(u.jsx)(N.a.Label,{children:"Surname"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},i("surname",{required:!0,minLength:3}))),b.surname&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid surname"})}),"minLength"===(null===(t=b.surname)||void 0===t?void 0:t.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"surname is too short"})}),Object(u.jsx)(N.a.Label,{children:"Subject"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},i("subject",{required:!0,minLength:3}))),b.subject&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid subject"})}),"minLength"===(null===(r=b.subject)||void 0===r?void 0:r.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"subject is too short"})}),Object(u.jsx)(N.a.Label,{children:"Years of Study"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number"},i("numberOfYears",{required:!0,minLength:1,maxLength:1}))),b.numberOfYears&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid number of years"})}),Object(u.jsx)(N.a.Label,{children:"Username"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},i("username",{required:!0,minLength:5}))),b.username&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid username"})}),"minLength"===(null===(c=b.username)||void 0===c?void 0:c.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"username is too short"})}),Object(u.jsx)(N.a.Label,{children:"Email"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"email"},i("email",{required:!0,minLength:6}))),b.email&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid email"})}),"minLength"===(null===(a=b.email)||void 0===a?void 0:a.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"email is too short"})}),Object(u.jsx)(N.a.Label,{children:"Password"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"password"},i("password",{required:!0,minLength:6}))),b.password&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid password"})}),"minLength"===(null===(s=b.password)||void 0===s?void 0:s.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"password is too short"})}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:j((function(e){var t={forename:e.forename,surname:e.surname,username:e.username,email:e.email,password:e.password,subject:e.subject,numberOfYears:e.numberOfYears},r=e.username,n=e.numberOfYears;console.log("here",r),console.log("here",n);var c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)};fetch("/auth/SignUp",c).then((function(e){return e.json()})).then((function(e){f(e.message),console.log(v),x(!0)})).catch((function(e){return console.log(e)})),d()})),style:{marginTop:"15px",float:"right"},children:"Sign Up"})]})]})})})]})}var _=r(10),P=r.n(_),Y=r(21);r(105);function H(){var e,t,r,c,a,s,l,d=Object(n.useState)({}),j=Object(o.a)(d,2),b=j[0],h=j[1];Object(n.useEffect)((function(){var e=localStorage.getItem("currentUserUsername");console.log(e),fetch("/user/getUser/"+e).then((function(e){return e.json()})).then((function(e){console.log(e),h(e)})).catch((function(e){return console.log(e)}))}),[]);var O=Object(L.a)({}),x=O.register,g=(O.reset,O.handleSubmit),p=O.formState.errors,v=Object(n.useState)(!1),f=Object(o.a)(v,2),C=f[0],E=f[1],T=function(){return E(!1)};var A=Object(i.f)(),U=Object(n.useState)(!0),k=Object(o.a)(U,2),_=k[0],H=k[1],F=Object(n.useState)(""),q=Object(o.a)(F,2),W=q[0],B=q[1],J=function(e){return new Promise((function(t){var r={current_username:localStorage.getItem("currentUserUsername"),current_password:e},n={method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(r)};fetch("/auth/checkPassword",n).then((function(e){return e.json()})).then((function(e){console.log(e.message),1==e.message?t(1):t(0)})).catch((function(e){return console.log(e)}))}))},K=function(){var e=Object(Y.a)(P.a.mark((function e(t){var r,n,c,a,s,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t.current_password);case 2:r=e.sent,console.log(r),r?(n=t,console.log(t),c=localStorage.getItem("currentUserId"),a=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),s={method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(a))},body:JSON.stringify(t)},l=function(){localStorage.setItem("currentUserForename",n.forename),localStorage.setItem("currentUserNumberOfYears",n.numberOfYears),localStorage.setItem("currentUserSurname",n.surname),localStorage.setItem("currentUserUsername",n.username)},fetch("/user/user/"+c,s).then((function(e){return e.json()})).then((function(e){H(!0),B(e.message),"User updated succesfully"==e.message&&l()}))):alert("You current password is incorrect");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[_&&"User updated succesfully"===W?Object(u.jsxs)(S.a,{variant:"success",onClose:function(){return E(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Success!"}),Object(u.jsx)("p",{children:W})]}):_&&"email already used"===W|"username already exists"===W?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return E(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:W})]}):_&&"Internal Server Error"===W?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return E(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:"You have timed out, please logout and sign in again!"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(I.a,{show:C,onHide:T,children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsx)(I.a.Title,{children:"Are you sure you want to delete your account?"})}),Object(u.jsx)(I.a.Body,{children:"There is no going back!"}),Object(u.jsx)(I.a.Footer,{children:Object(u.jsx)(w.a,{variant:"danger",onClick:function(){T(),function(){var e=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),t={method:"DELETE",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(e))}};fetch("/user/user/"+localStorage.getItem("currentUserId"),t).then((function(e){return e.json()})).then((function(e){console.log(e)}))}(),m(),localStorage.removeItem("currentUserForename"),localStorage.removeItem("currentUserSurname"),localStorage.removeItem("currentUserUsername"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUserNumberOfYears"),localStorage.removeItem("yearIds"),localStorage.removeItem("Predicted"),localStorage.removeItem("moduleName"),A.push("/home")},children:"Delete"})})]}),Object(u.jsxs)("div",{className:"fullPage",children:[Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("br",{}),Object(u.jsx)("h1",{children:Object(u.jsx)("u",{children:"Edit Account Info"})}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Forename"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text",placeholder:b.forename},x("forename",{required:!0,minLength:3}))),p.forename&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid forename"})}),"minLength"===(null===(e=p.forename)||void 0===e?void 0:e.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Forename is too short"})}),Object(u.jsx)(N.a.Label,{children:"Surname"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text",placeholder:b.surname},x("surname",{required:!0,minLength:3}))),p.surname&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid surname"})}),"minLength"===(null===(t=p.surname)||void 0===t?void 0:t.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"surname is too short"})}),Object(u.jsx)(N.a.Label,{children:"Subject"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text",placeholder:b.subject},x("subject",{required:!0,minLength:2}))),p.subject&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid subject"})}),"minLength"===(null===(r=p.subject)||void 0===r?void 0:r.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"subject is too short"})}),Object(u.jsx)(N.a.Label,{children:"Years of Study"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number",placeholder:b.numberOfYears},x("numberOfYears",{required:!0,minLength:1,maxLength:1}))),p.numberOfYears&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid number of years"})}),Object(u.jsx)(N.a.Label,{children:"Email"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"email",placeholder:b.email},x("email",{required:!0,minLength:5}))),p.email&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid email"})}),"minLength"===(null===(c=p.email)||void 0===c?void 0:c.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"email is too short"})}),Object(u.jsx)(N.a.Label,{children:"Username"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text",placeholder:b.username},x("username",{required:!0,minLength:5}))),p.username&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid username"})}),"minLength"===(null===(a=p.username)||void 0===a?void 0:a.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"username is too short"})}),Object(u.jsx)(N.a.Label,{children:"Current Password"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"password"},x("current_password",{required:!0,minLength:6}))),p.current_password&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid password"})}),"minLength"===(null===(s=p.current_password)||void 0===s?void 0:s.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"password is too short"})}),Object(u.jsx)(N.a.Label,{children:"New Password"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"password"},x("password",{required:!0,minLength:1}))),p.password&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid password"})}),"minLength"===(null===(l=p.password)||void 0===l?void 0:l.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"password is too short"})}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:g(K),style:{marginTop:"15px",float:"right"},children:"Update"})]})]}),Object(u.jsx)(w.a,{as:"sub",variant:"danger",onClick:function(){return E(!0)},style:{marginTop:"15px",float:"right",right:"0px"},children:"Delete Account"})]})]})}function F(){return Object(u.jsx)("div",{children:Object(u.jsx)("footer",{className:"bg-dark text-center text-white",children:Object(u.jsx)("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:"\xa9 2020 Copyright: GradChecker"})})})}function q(){var e,t=Object(L.a)(),r=t.register,c=(t.reset,t.handleSubmit),a=t.formState.errors,s=Object(n.useState)(!0),l=Object(o.a)(s,2),d=l[0],j=l[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),m=h[0],O=h[1],x=Object(i.g)().state;console.log(x);return Object(u.jsxs)("div",{className:"fullPage",children:[d&&"Module added successfuly"===m?Object(u.jsxs)(S.a,{variant:"success",onClose:function(){return j(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Success!"}),Object(u.jsx)("p",{children:m})]}):d&&"this module has already been added"===m?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return j(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:m})]}):d&&"Internal Server Error"===m?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return j(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:"You have timed out, please logout and sign in again!"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"card border-dark",style:{width:"18rem",boxShadow:"10px 10px 0px 1px  rgba(0,0,0,0.2)"},children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{method:"POST",action:"/signup",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)("u",{children:"Add a module"})}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Name"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},r("name",{required:!0}))),a.name&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid module name"})}),Object(u.jsx)(N.a.Label,{children:"Credits Worth"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number"},r("creditsWorth",{required:!0,minLength:1,maxLength:2}))),a.creditsWorth&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid surname"})}),"minLength"===(null===(e=a.creditsWorth)||void 0===e?void 0:e.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:" Too short"})}),Object(u.jsx)(N.a.Label,{children:"Number Of Assignments"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number"},r("assignments",{required:!0,minLength:1}))),a.assignments&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid subject"})}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:c((function(e){var t=localStorage.getItem("REACT_TOKEN_AUTH_KEY");console.log(t);var r={name:e.name,creditsWorth:e.creditsWorth,assignments:e.assignments};console.log(r),console.log(x);var n={method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(t))},body:JSON.stringify(r)};fetch("/grades/modules/"+x,n).then((function(e){return e.json()})).then((function(e){O(e.message),console.log(m),j(!0)})).catch((function(e){return console.log(e)}))})),style:{marginTop:"15px",float:"right"},children:"Add Module"})]})]})})})]})}r(106);var W=function(e){var t=e.module_id,r=e.name,c=e.weight,a=e.completed,s=e.percentage,i=Object(n.useState)(!1),d=Object(o.a)(i,2),j=d[0],b=d[1],h=function(){return b(!1)},m=Object(n.useState)(!1),O=Object(o.a)(m,2),x=O[0],g=O[1],p=function(){var e=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),n={name:r,weight:c,completed:a,percentage:s},l={method:"DELETE",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(e))},body:JSON.stringify(n)};console.log(t),fetch("/grades/assignments/"+t,l).then((function(e){return e.json()})).then((function(e){console.log(e),"Internal Server Error"==e.message?g(!0):window.location.reload()}))};a?(a="True",s+="%"):(a="False",s="TBC");return Object(u.jsxs)("div",{children:[Object(u.jsxs)(I.a,{show:j,onHide:h,children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsx)(I.a.Title,{children:"Are you sure you want to delete this Assignment?"})}),Object(u.jsx)(I.a.Body,{children:"There is no going back!"}),Object(u.jsx)(I.a.Footer,{children:Object(u.jsx)(w.a,{variant:"danger",onClick:function(){h(),p()},children:"Delete"})})]}),Object(u.jsxs)(I.a,{show:x,onHide:function(){return g(!1)},children:[Object(u.jsx)(I.a.Header,{closeButton:!0,children:Object(u.jsx)(I.a.Title,{children:"ERROR"})}),Object(u.jsx)(I.a.Body,{children:"Timed Out! Please logout and login again"})]}),Object(u.jsx)("div",{className:"card spacing",children:Object(u.jsxs)("div",{className:"card-body center",children:[Object(u.jsxs)(w.a,{className:"btn delete",onClick:function(){return b(!0)},variant:"outline-danger",value:"x",children:[" ",Object(u.jsx)("p",{className:"cross",children:"X"})]}),Object(u.jsx)("h5",{className:"card-header",children:r}),Object(u.jsx)("p",{className:"card-text"}),Object(u.jsxs)("p",{children:["Completed: ",a]}),Object(u.jsxs)("p",{children:["Weight: ",c,"%"]}),Object(u.jsx)(l.b,{className:"btn btn-primary",to:{pathname:"/UpdateAssignment",state:t},onClick:function(){localStorage.setItem("moduleName",r)},children:"update"}),Object(u.jsx)("p",{}),Object(u.jsxs)("h5",{className:"card-footer",children:["Achieved: ",s]})]})})]})},B=(r(107),function(){var e=Object(i.g)().state,t=Object(n.useState)([]),r=Object(o.a)(t,2),c=r[0],a=r[1];localStorage.getItem("currentUserId");return Object(n.useEffect)((function(){console.log(e),fetch("/grades/assignments/"+e).then((function(e){return e.json()})).then((function(e){console.log(e),a(e)})).catch((function(e){return console.log(e)}))}),[]),Object(u.jsxs)("div",{className:"fullPage",children:[Object(u.jsx)("h1",{children:"Assignments"}),Object(u.jsxs)("div",{className:"card-deck wrapCards",children:[c.map((function(t){return Object(u.jsx)(W,{module_id:e,name:t.name,completed:t.completed,weight:t.weight,percentage:t.percentage},t.id)})),Object(u.jsx)("div",{className:"card border-light spacing",children:Object(u.jsxs)("div",{className:"card-body centerAdd",children:[Object(u.jsx)("p",{className:"card-text"}),Object(u.jsx)(l.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/addAssignment",state:e},children:Object(u.jsx)("p",{className:"circle centerAdd",children:"+"})}),Object(u.jsx)("p",{})]})})]})]})});function J(){var e,t,r=Object(L.a)(),c=r.register,a=(r.reset,r.handleSubmit),s=r.formState.errors,l=Object(n.useState)(!0),d=Object(o.a)(l,2),j=d[0],b=d[1],h=Object(n.useState)(""),m=Object(o.a)(h,2),O=m[0],x=m[1],g=Object(i.g)().state;console.log(g);return Object(u.jsxs)("div",{className:"fullPage",children:[j&&"Assignment added successfuly"===O?Object(u.jsxs)(S.a,{variant:"success",onClose:function(){return b(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Success!"}),Object(u.jsx)("p",{children:O})]}):j&&"this assignment has already been added"===O?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return b(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:O})]}):j&&"Internal Server Error"===O?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return b(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:"You have time out, please logout and sign in again!"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"card border-dark",style:{width:"18rem",boxShadow:"10px 10px 0px 1px  rgba(0,0,0,0.2)"},children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{method:"POST",action:"/signup",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)("u",{children:"Add an Assignment"})}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Name"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"text"},c("name",{required:!0}))),s.name&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid assignment name"})}),Object(u.jsx)(N.a.Label,{children:"Weight (%)"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number"},c("weight",{required:!0,minLength:1,maxLength:3}))),s.creditsWorth&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid Weight"})}),"minLength"===(null===(e=s.weight)||void 0===e?void 0:e.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:" Too short"})}),"maxLength"===(null===(t=s.weight)||void 0===t?void 0:t.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:" Too Long"})}),Object(u.jsx)(N.a.Check,Object(y.a)({type:"checkbox",label:"Completed (Tick if True)"},c("completed"))),Object(u.jsx)(N.a.Label,{children:"Percentage Achieved"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number",placeholder:"If Incomplete, just put 0!"},c("percentage",{required:!0,minLength:1,maxLength:3}))),s.percentage&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid Percentage"})}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:a((function(e){var t=localStorage.getItem("REACT_TOKEN_AUTH_KEY");console.log(t);var r={name:e.name,weight:e.weight,completed:e.completed,percentage:e.percentage};console.log(r);var n={method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(t))},body:JSON.stringify(r)};fetch("/grades/assignments/"+g,n).then((function(e){return e.json()})).then((function(e){x(e.message),console.log(O),b(!0)})).catch((function(e){return console.log(e)}))})),style:{marginTop:"15px",float:"right"},children:"Add Assignment"})]})]})})})]})}function K(){var e,t=Object(n.useState)(!1),r=Object(o.a)(t,2),c=r[0],a=r[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=l[0],j=l[1],b=Object(i.g)().state;console.log(b);var h=localStorage.getItem("moduleName"),m=Object(L.a)({}),O=m.register,x=m.handleSubmit,g=m.formState.errors;return Object(u.jsxs)("div",{className:"fullPage",children:[c&&"this assignment has been updated"===d?Object(u.jsxs)(S.a,{variant:"success",onClose:function(){return a(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Success!"}),Object(u.jsx)("p",{children:d})]}):c&&"this assignment doesn't seem to exist"===d|"this assignment name has already been added"===d?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return a(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:d})]}):c&&"Internal Server Error"===d?Object(u.jsxs)(S.a,{variant:"danger",onClose:function(){return a(!1)},style:{margin:"40px"},dismissible:!0,children:[Object(u.jsx)(S.a.Heading,{children:"Oh Snap!"}),Object(u.jsx)("p",{children:"You have time out, please logout and sign in again!"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"card border-dark",style:{width:"18rem",boxShadow:"10px 10px 0px 1px  rgba(0,0,0,0.2)"},children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{method:"POST",action:"/signup",children:[Object(u.jsx)("h5",{className:"card-title",children:"Update an Assignment"}),Object(u.jsxs)(N.a.Group,{children:[Object(u.jsx)(N.a.Label,{children:"Name"}),Object(u.jsx)(N.a.Control,Object(y.a)({placeholder:h,type:"text"},O("newName",{required:!0,minLength:3}))),g.newName&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid name"})}),"minLength"===(null===(e=g.newName)||void 0===e?void 0:e.type)&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Module name is too short"})}),Object(u.jsx)(N.a.Label,{children:"Assignment Weight (%)"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number"},O("newWeight",{required:!0,minLength:1,maxLength:3}))),g.newWeight&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid percentage"})}),Object(u.jsx)(N.a.Check,Object(y.a)({type:"checkbox",label:"Completed (Tick if True)"},O("completed"))),Object(u.jsx)(N.a.Label,{children:"Percentage Achieved (%)"}),Object(u.jsx)(N.a.Control,Object(y.a)({type:"number"},O("newPercentage",{required:!0,minLength:1,maxLength:3}))),g.newPercentage&&Object(u.jsx)("p",{style:{color:"red"},children:Object(u.jsx)("small",{children:"Enter a valid percentage"})}),Object(u.jsx)(w.a,{as:"sub",variant:"primary",onClick:x((function(e){var t=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),r=e.newName,n={currentName:h,name:e.newName,weight:e.newWeight,completed:e.completed,percentage:e.newPercentage},c={method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(t))},body:JSON.stringify(n)};fetch("/grades/updateAssgn/"+b,c).then((function(e){return e.json()})).then((function(e){console.log(e),j(e.message),a(!0),"this assignment has been updated"==e.message&&localStorage.setItem("moduleName",r)})).catch((function(e){return console.log(e)}))})),style:{marginTop:"15px",float:"right"},children:"Update Assignment"})]})]})})})]})}var G=r(81),R=r.n(G);r(108),r(109),r(110);var D=function(){return Object(u.jsx)(R.a,{children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsxs)(i.a,{exact:!0,path:["/home","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(f,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/account","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(H,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/login","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(C,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/grades","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(U,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/signup","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(k,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/addModules/","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(q,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/assignments/","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(B,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/AddAssignment/","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(J,{}),Object(u.jsx)(F,{})]}),Object(u.jsxs)(i.a,{exact:!0,path:["/UpdateAssignment/","/"],children:[Object(u.jsx)(p,{}),Object(u.jsx)(K,{}),Object(u.jsx)(F,{})]})]})})})},M=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,142)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(D,{})}),document.getElementById("root")),M()},42:function(e,t,r){},87:function(e,t,r){}},[[133,1,2]]]);
//# sourceMappingURL=main.2b9f1778.chunk.js.map